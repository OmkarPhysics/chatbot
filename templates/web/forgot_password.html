{% extends "web/base.html" %}
{% block title %}Forgot password{% endblock %}
{% block content %}
  <div class="card p-4 mb-4">
    <h2>Forgot password</h2>
    <div class="mb-3">
      <label class="form-label">Email</label>
      <input id="email" type="email" class="form-control" />
    </div>
    <div class="d-flex gap-2 mt-3">
      <button type="button" class="btn btn-primary" onclick="doForgot()">Send reset email</button>
    </div>
    <pre id="out" class="mt-3">{}</pre>
  </div>
{% endblock %}
{% block scripts %}
  <script>
    async function doForgot() {
      const body = { email: document.getElementById("email").value };
      const res = await api("/api/auth/forgot-password/", { method: "POST", body });
      show("out", res.json ?? res.text);
    }
  </script>
{% endblock %}

